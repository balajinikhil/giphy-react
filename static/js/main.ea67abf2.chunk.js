(this.webpackJsonpgiphy=this.webpackJsonpgiphy||[]).push([[0],{46:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a(1),r=a.n(s),c=a(6),i=a.n(c),o=a(3),l=a.n(o),u=a(4),f=a(15),h=a(16),p=a(22),g=a(20),j=a(17),m=a(18),d=a.n(m).a.create({baseURL:"https://api.giphy.com/v1/gifs",params:{api_key:"PZvJvffopnmNjquo6xZs6gG4C1TCTZfW"}}),b=a(19),v=function(t){return Object(n.jsx)("div",{className:"ui grid",style:{marginTop:"25px"},children:(e=t.gifs,e.map((function(t,e){return Object(n.jsx)(b.LazyLoadImage,{className:"five wide column",src:t.images.original.url,alt:t.username},e)})))});var e},x=a(21),O=function(t){var e=t.onSearchSubmit,a=Object(s.useState)("silicon valley"),r=Object(x.a)(a,2),c=r[0],i=r[1];return Object(n.jsx)("form",{onSubmit:function(t){t.preventDefault(),e(c)},className:"ui form",children:Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{children:"Search"}),Object(n.jsx)("input",{type:"text",placeholder:"Silicon Valley",onChange:function(t){i(t.target.value)}})]})})},y=function(t){Object(p.a)(a,t);var e=Object(g.a)(a);function a(){var t;Object(f.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={gifs:[],offset:0,totalLength:1,more:!0,term:"silicon valley"},t.fetchMoreData=function(){var e=Object(u.a)(l.a.mark((function e(a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state.gifs.length>=t.state.totalLength&&(console.log(!0),t.setState({more:!1})),e.next=3,d.get("/search",{params:{q:t.state.term,limit:25,offset:t.state.offset}});case 3:n=e.sent,console.log(n.data),t.setState({gifs:t.state.gifs.concat(n.data.data),offset:t.state.offset+25,totalLength:n.data.pagination.total_count});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.componentDidMount=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fetchMoreData();case 1:case"end":return e.stop()}}),e)}))),t.onSearchSubmit=function(){var e=Object(u.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({gifs:[],offset:0,totalLength:1,term:a});case 2:t.fetchMoreData();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(h.a)(a,[{key:"render",value:function(){return console.log(this.state),Object(n.jsx)("div",{className:"ui container",children:Object(n.jsxs)("div",{className:"ui segment",children:[Object(n.jsx)(O,{onSearchSubmit:this.onSearchSubmit}),Object(n.jsx)(j.a,{dataLength:this.state.gifs.length,next:this.fetchMoreData,hasMore:this.state.more,loader:Object(n.jsx)("h4",{children:"loading..."}),endMessage:Object(n.jsx)("h4",{children:"End of search result"}),children:Object(n.jsx)(v,{gifs:this.state.gifs})})]})})}}]),a}(r.a.Component);i.a.render(Object(n.jsx)(y,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.ea67abf2.chunk.js.map